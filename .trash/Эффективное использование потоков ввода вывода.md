# Эффективное использование потоков ввода/вывода
Потоки не сразу выводит в консоль переданные значения, сначала они накапливаются в буфере, а потом выводятся, но с помощью манипулятора endl можно сбрасывать буфер, то есть значения будут сразу же выводиться и происходить перевод строки. В отличии от \n при котором буфер не сбрасывается.

```cpp
int main () { 
	{ 
		LOG_DURATION ("endl"); 
		ofstream out("output.txt"); 
		for (int i = 0; i < 15000; ++i) { 
			out << "London is the capital of Great Britain. " << "I am travelling down the river" << endl; 
		} 
	} 
	{ 
		LOG_DURATION ("'\n'"); 
		ofstream out("output2.txt");
		for (int i = 0; i < 15000; ++i) { 
			out << "London is the capital of Great Britain. " << "I am travelling down the river" << '\n'; 
		} 
	} 
} 
// endl: 137 ms 
// '\n': 16 ms
```

В каких случая использовать endl?
В тех случаях когда нам нужно оперативно получить вывод, иначе может произойти ситуация, когда программа крашится не дойдя до строки, где буфер сбросится и произойдет вывод.

Также если после cout, использовать cin буфер сбросится. Это происходит из-за связи потоков, чтобы ее разорвать в начале программы нужно написать:

```cpp
cin.tie(nullptr);
```

Эта команда позволит ускорить ввод/вывод, ее также нужно написать вначале программы:

```cpp
ios_base::sync_with_stdio(false);
```