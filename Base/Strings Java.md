# Strings Java
Строки в Java являются [[Физическая, логическая константность и mutable|immutable]] - то есть мы ее не можем изменять, все операции которые мы применяем для изменения строки, возвращают нам новую строку, поэтому результаты этих методов должны присваиваться новым переменным.
```java
String s = "Hello";
String s1 = new String("Hello");
String news = s + s1;
System.out.println("Hello" + " world");
```

```java
String s = "Hello";
String s1 = "Hello";
String s2 = "Hello";
String s3 = s + s1 + s2;
Сначала создается строка путем слияния s + s1, потом создается итоговая строка слиянием предыдущего результата и s2, не очень эффективно
```

При создании строк так - `String s = "Hello"` в первый раз выделяется память в read-only области памяти, в следующий раз, если мы создадим другую переменную `String k = "Hello"`, переменная k будет ссылаться на ту же область памяти, что и s. Используется [[Strings C++#Идиома COW - copy on write|Идиома COW - copy on write]].

При создании строк через `new` такого не происходит.

# String builder
Объекты класса StringBuilder [[Физическая, логическая константность и mutable|mutable]]
```java
StringBuilder str = new StringBuilder("Hello");
str.append(" world").append("!!!");
```

StringBuilder нужно использовать, если нам нужно изменять строки, поскольку при использовании String создается новая строка. 

# String Buffer
Аналог StringBuilder, но buffer является потокобезопасным.

# Форматирование
```java
double x = 1000.0 / 3.0;  
System.out.println("Строка без форматирования: " + x);  
  
Formatter formatter = new Formatter();  
formatter.format("Строка c форматированием: %.2f%n", x);  
formatter.format("Строка c форматированием: %8.2f%n", x);  
formatter.format("Строка c форматированием: %16.2f%n", x);  
System.out.println(formatter);  
Строка без форматирования: 333.3333333333333  
Строка c форматированием: 333,33  
Строка c форматированием:   333,33  
Строка c форматированием:           333,33
```

```java
System.out.printf("Строка c форматированием: %.2f%n", 1000.0 / 3.0);  
System.out.format("%s, в следующем году вам будет %d", "Джон", 23);  
Строка c форматированием: 333,33  
Джон, в следующем году вам будет 23
```

```java
System.out.printf("Hello %1$s!%n%1$s, how are you?%n"  
                + "Welcome to the site %2$s",  
        "John", "www.site.com");  
Hello John!  
John, how are you?  
Welcome to the site www.site.com
```

```java
System.out.printf("%,.2f%n", 10000.0 / 3.0); 3 333,33  
System.out.printf("%, (.2f%n", -10000.0 / 3.0); (3 333,33)  
System.out.printf("%09.2f%n", 10000.0 / 3.0); 003333,33
```

## Спецификаторы
_%a_ Шестнадцатеричное значение с плавающей точкой
_%b_ Логическое (булево) значение аргумента
_%c_ Символьное представление аргумента
_%d_ Десятичное целое значение аргумента
_%h_ Хэш-код аргумента
_%e_ Экспоненциальное представление аргумента
_%f_ Десятичное значение с плавающей точкой
_%g_ Выбирает более короткое представление из двух: %е или %f
_%o_ Восьмеричное целое значение аргумента
_%n_ Вставка символа новой строки
_%s_ Строковое представление аргумента
_%t_ Время и дата
_%x_ Шестнадцатеричное целое значение аргумента
_%%_ Вставка знака %

## Флаги
 `-`      Выравнивание влево
 `#`       Изменяет формат преобразования 
 0       Выводит значение, дополненное нулями вместо пробелов. Применим только к числам. 
 Пробел  Положительные числа предваряются   пробелом 
`+`      Положительные числа предваряются знаком +. Применим только к числам.
 ,      Числовые значения включают разделители групп. Применим только к числам. 
 (       Отрицательные числовые значения заключаются в скобки. Применим только к числам.

