# Конструктор перемещения и перемещающий оператор присваивания
В следующих случаях вызывается конструктор перемещения (move constructor):

![[../Files/Pasted image 20220218114347.png]]

В следующих случаях вызывается оператор перемещающего присваивания (move assignment operator):

![[../Files/Pasted image 20220218114438.png]]

Если у вас есть собственный класс с конструктором копирования, но без конструктора перемещения, то компилятор делает перемещение эквивалентным копированию.

```cpp
template<typename T> 
SimpleVector<T>::SimpleVector(SimpleVector<T>&& other) 
	: data(other.data), 
	  size(other.size), 
	  capacity(other.capacity) 
{ 
	other.data = nullptr; 
	other.size = other.capacity = 0; 
} 
// 0 1
```

```cpp
template<typename T>
void SimpleVector<T>::operator=(SimpleVector<T>&& other) 
{ 
	delete[] data; 
	data = other.data; 
	size = other.size; 
	capacity = other. capacity; 
	other.data = nullptr; 
	other.size = other.capacity = 0; 
}
```

При необходимости компилятор сам генерирует конструктор перемещения и оператор перемещающего присваивания, которые просто перемещают все поля. Если класс не управляет памятью самостоятельно, то перемещение для него будет просто работать.