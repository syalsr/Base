Принимать в функции unique_ptr и shared_ptr имеет смысл только по значению — в случае, когда функция забирает или разделяет владение объектом. В остальных случаях вместо умных указателей достаточно работать с сырым указателем на объект.

С помощью [[Copy elision|(N)RVO]] можем эффективно возвращать умный указатель из функции

* [[передача unique_ptr]]
* [[передача shared_ptr]]

#do/review 
1. Перенести из двух файлов все в один, сюда