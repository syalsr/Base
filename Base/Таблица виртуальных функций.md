# Таблица виртуальных функций
Она начинает конструироваться при вызове конструктора, т.е. в самом начале списка инициализации, когда вызывается конструктор базового класса, и  заканчивает конструироваться при завершении работы конструктора. Во время инициализации таблица сохраняет указатели на переопределенные методы.

Каждый класс содержащий хотя бы один виртуальный метод имеет vtable, и каждый объект этого класса имеет указатель на его таблицу. Эта таблица содержит указатель на реализацию виртуальных методов. Когда объект вызывает [[Методы|метод]], мы идем по адресу указателя в таблицу и выбираем соответствующий метод .

```cpp
class Base
{
public:
	virtual void func1();
	virtual void func2();
	void nonVirtualFunc();
};
class Derived : public Base
{
public:
	void func2() override;
	void nonVirtualFunc();
};
int main()
{
	Base myBase;
	Derived myDerived;
}
```

![[Drawing 2022-05-08 14.23.26.excalidraw]]

Следует избегать virtual методов, если это необходимо так как оно накладывает дополнительные расходы на память и производительность. Если у нас один экземпляр класса, то расходы не значительны, а если их миллион?